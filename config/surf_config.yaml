data_sources:

  # Geographic location for Bolinas surf point
  # (used to pick sunrise/sunset and wind forecasts)
  location_lat: 37.9094     # decimal degrees (Bolinas beach approx)
  location_lon: -122.6864   # decimal degrees (Bolinas beach approx)

  # Closest WW3 grid node (roughly offshore Golden Gate region)
  # Note: WW3 longitudes are 0–360, so -122.7 ≈ 237.3 deg
  ww3_lat: 37.5             # WW3 grid latitude
  ww3_lon: 237.0            # WW3 grid longitude (0–360 longitude format)
  max_partitions: 3         # maximum number of unique swells to partition from WW3
  ww3_url: "https://thredds.ucar.edu/thredds/dodsC/grib/NCEP/WW3/Global/Best/latest" # URL for fetching the ww3 forecast

  # CDIP MOP Parameters
  mop_number: "MA147" # MA147 matches the patch location
  min_swell_frequency: 0.12 # 0.1 Hz = 10-second period 
  forecast_model: 'ecmwf' # 'ecmwf' (European) is generally more accurate for long-range coastal swells. 'ncep' (GFS) is the American alternative.

  # NOAA tide station ID (9414290 = SF Golden Gate)
  # Alternatives:
  #   9414958 = Bolinas Lagoon 
  tide_station: "9414290"

  # Local coastline orientation (degrees, where waves are parallel)
  # Used for wind offshore/onshore logic
  coast_orientation: 165    # SSE facing cliff/shore orientation

  # Number of hourly forecast points to pull & compute
  forecast_hours: 168       # 7 days (24 * 7)


surf_model:

  spectral_scoring:
      # Height Scoring (Hs)
      hs_min_m: 0.3          # Waves smaller than this (in meters) get 0 score
      hs_full_credit_m: 1.5  # Waves this size or larger get 1.0 score
      
      # Period Scoring (Tp)
      tp_min_s: 10.0         # Periods below this get 0 score
      tp_full_credit_s: 16.0 # Periods this long or longer get 1.0 score
      
      # Directional Spread Scoring
      spread_min_deg: 5.0    # "Ideal" narrow spread (lower = cleaner)
      spread_max_deg: 20.0   # Spread above this is considered disorganized/junk 
      
      # Weighting
      w_hs: 0.30  # Height
      w_tp: 0.50  # Period 
      w_sp: 0.20  # Spread 

  # ---- UI Labels (Used for display only) ----
  ui_ranges:
    south_swell: [150, 225]
    southwest_wrap: [225, 245]
    west_range: [245, 280]
    nw_range: [280, 310]
    
  # === Nearshore shoaling and energy decay ===
  nearshore:
    range_factor: 0.15        # ±15% spread for min/max surf range
    range_period_min: 12      # minimum period where range_factor starts increasing
    range_step: 0.01          # % by which range_factor spread increases per period second > range_period_min

# === Tide scoring ===
  tide:
    optimal_height: 1.0       # The perfect tide height in feet MLLW (center of Gaussian)
    sigma: 2.5                # The width of the curve; larger = more tide-tolerant break
    penalty_min: 0.1         # The lowest possible multiplier (even in a deep high tide)

  # === Wind categorization ===
  wind:
    offshore_threshold_deg: 45.0   # max angle from offshore to be considered offshore
    onshore_threshold_deg: 135.0   # min angle from offshore to be considered onshore
    # Directional impact on Effective Speed
    # Lower value = wind speed is penalized LESS (offshore)
    offshore_penalty_weight: 0.7  
    crosshore_penalty_weight: 1.0
    onshore_penalty_weight: 1.0
    gust_weight: 0.3         # 0.5 means the gust and steady wind are equally important
    speed_floor: 5.0          # Wind speed below this has 0 penalty (glassy)
    speed_range: 13.0         # The divisor; how many mph it takes to go from glass to blown out
    penalty_min: 0.25          # The lowest possible multiplier (blown out)

  final_scoring:
    wind_impact_weight: 0.60   # Max reduction from wind
    tide_impact_weight: 0.60   # Max reduction from tide
    min_multiplier: 0.20       # Absolute floor
    secondary_penalty: 0.2     # Primary penalty is 100%, secondary penalty is x%